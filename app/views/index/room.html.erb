<div class='grid communicator'>
  <div class='menu'>
    <div class='button' data-action='quick'>
      Quick
      <img class='icon' src='/icons/chat-quote.svg' alt='' />
    </div>
    <div class='button with_popover' data-action='load'>
      Load
      <img class='icon' src='/icons/bag.svg' alt='' />
      <div class='popover'>
        <div class='popover_carat'></div>
        <div class='grids'>
        </div>
      </div>
    </div>
    <div class='button' data-action='customize'>
      Customize
      <img class='icon' src='/icons/pencil.svg' alt='' />
    </div>
    <div class='button with_popover' data-action='send'>
      React
      <img class='icon' src='/icons/heart-fill.svg' alt='' />
      <div class='popover'>
        <div class='popover_carat'></div>
        <div class='reactions'>
        </div>
      </div>
    </div>
    <div class='button with_popover' data-action='more'>
      More
      <img class='icon' src='/icons/three-dots-vertical.svg' alt=''/>
      <div class='popover' style='margin-top: -12px;'>
        <div class='popover_carat' style='position: absolute; top: 9px; height: 100%;'></div>
        <div class='extras'>
          <div style='margin-top: 5px;'><img src='/logo.svg' style='height: 40px; vertical-align: middle; margin-right: 5px; margin-top: -15px; margin-bottom: -5px;'/><span style='color: #ccc; font-style: italic; vertical-align: middle;'>Co</span>-<span style='color: #fff; font-weight: bold; vertical-align: middle;'>VidSpeak</span></div>
          <div class='button sub_button for_communicator' data-action='invite'>
            Invite
            <img class='icon' src='/icons/people-circle.svg' alt='' />
            </div>
          <div class='button sub_button for_visitor' data-action='info'>
            Info
            <img class='icon' src='/icons/info-circle.svg' alt='' />
            </div>
          <span class='connected'>
            <div class='button sub_button' data-action='share'>
              Show
              <img class='icon' src='/icons/images.svg' alt='' />
              </div>
          </span>
          <span class='disconnected'>
            <div class='button sub_button for_visitor' data-action='reconnect'>
              Re-Connect
              <img class='icon' src='/icons/plug.svg' alt='' />
              </div>
          </span>
          <div class='button sub_button' data-action='settings'>
            Settings
            <img class='icon' src='/icons/gear.svg' alt='' />
            </div>
          <div class='button sub_button' data-action='end'>
            End
            <img class='icon' src='/icons/power.svg' alt='' />
            </div>
        </div>
      </div>
    </div>
  </div>
  <div class='col'>
    <div class='cell' data-idx='0'>
      <div class='text'></div><img />
    </div>
    <div class='cell' data-idx='3'>
      <div class='text'></div><img />
    </div>
    <div class='cell' data-idx='5'>
      <div class='text'></div><img />
    </div>
  </div>
  <div class='mid'>
    <div class='cell skinny' data-idx='1'>
      <div class='text'></div><img />
    </div>
    <div class='preview'>
      <div id="partner">
      </div>
      <div id="status_holder">
        <div id='status'>Initializing...
        </div>
        <div id='status_invite'>
          <button id='invite_partner' class='primary'>Invite Partner</button>
        </div>
        <div id='status_popout'>
          <button id='popout_view' class='primary'>Open in Browser</button>
        </div>
      </div>
      <div id="communicator">
      </div>
      <div id="end_preview"></div>
      <div id="nav">
        <button class='mute'><img src="/icons/mic-mute.svg" alt="mute"/></button>
        <button class='unmute'><img src="/icons/mic.svg" alt="unmute"/></button>
        <button class='zoom' data-direction='in'>+</button>
        <button class='zoom' data-diration='out'>-</button><br/>
      </div>
      <div id="volume_level">
      </div>
      <div id="text">
        <input class='text_input' type='text'/>
        <div class='prompt' id='text_prompt'>
          <img src="/icons/cursor-text.svg" class='cursor'/>
          <img src="/icons/slash-circle.svg" class='clear'/>
        </div>
      </div>
    </div>
    <div class='cell' data-idx='6' style='flex: 3;'>
      <div class='text'></div><img />
    </div>
    <div id='eyes'>
      <div>
        align eyes here-ish<br/>
        (zoom/drag to move)
      </div>
    </div>
  </div>
  <div class='col'>
    <div class='cell' data-idx='2'>
      <div class='text'></div><img />
    </div>
    <div class='cell' data-idx='4'>
      <div class='text'></div><img />
    </div>
    <div class='cell' data-idx='7'>
      <div class='text'></div><img />
    </div>
  </div>
</div>
<div id="share_modal" class="content">
  <p>
    <img src="/icons/images.svg" style='float: left; height: 50px; margin: 0 15px 4px 0;'/>
    Sharing photos, videos, or even things from your screen
    can be a great distraction, or can help spur a
    conversation. Some devices don't support all sharing
    types, so if you don't see any sharing options, try
    accessing from a different device.
  </p>
</div>
<div id="info_modal" class="content">
  <p>
    This app was created to provide simple communication
    supports for isolated individuals who may not be in 
    a situation to speak out loud, but can still benefit
    from emotional connection from those who cannot be
    physically present.
  </p>
  <p>
    [ Link to Training Video ]
  </p>
</div>
<div id="customize_modal" class="content">
  <div style='margin-bottom: 10px; text-align: center;'>
  Choose a button layout and fill it out!
  <span class='reverse' style='display: none;'><span style='color: #800; font-weight: bold;'>NOTE:</span> The buttons you fill out will look reversed from how you enter them, but will show up correctly for the communicator's eyes.</span>
  </div>
  <div style='display: flex; flex-direction: row;'>
    <button style='flex: 1;' class='size' data-size='4'>4 Buttons</button>
    <button style='flex: 1;' class='size' data-size='6'>6 Buttons</button>
    <button class='size primary' data-size='8' style='flex: 1; margin-right: 0;'>8 Buttons</button>
  </div>
  <div id='layouts'>
    <div class='layout'>
      <div class='layout_container'>
        <div class='layout_column'>
          <div class='layout_button'><input type='text' name='l1' placeholder="[button text]"/></div>
          <div class='layout_button'><input type='text' name='l2' placeholder="[button text]"/></div>
          <div class='layout_button'><input type='text' name='l3' placeholder="[button text]"/></div>
        </div>
        <div class='layout_column'>
          <div class='layout_button'><input type='text' name='m1' placeholder="[button text]"/></div>
          <div class='layout_button preview' style='flex: 6;'><img src='/icons/person.svg'/></div>
          <div class='layout_button' style='flex: 3;'><input type='text' name='m2' placeholder="[button text]"/></div>
        </div>
        <div class='layout_column'>
          <div class='layout_button'><input type='text' name='r1' placeholder="[button text]"/></div>
          <div class='layout_button'><input type='text' name='r2' placeholder="[button text]"/></div>
          <div class='layout_button'><input type='text' name='r3' placeholder="[button text]"/></div>
        </div>
      </div>
    </div>
  </div>

</div>
<div id="invite_modal" class="content">
  <a class="link" style='position: absolute; left: -2000px;'>http://www.example.com</a>
  <p style='margin-top: -10px;'>
    You can invite someone to join this room by copy the 
    link code to this device's clipboard or hold up 
    your camera app do scan this code to load a share link:
  </p>
  <div class='qr_code'>
  </div>
</div>
<div id="settings_modal" class="content">
  <div class='half'>
    <h2>Video Input</h2>
    <select id='video_select'></select>
  </div>
  <div class='half'>
    <h2>Pictures on Buttons</h2>
    <select id='symbol_select'>
      <option value='lessonpix'>LessonPix Pictures</option>
      <option value='twemoji'>Emoji Symbols</option>
      <option value='none'>Don't Show Any Pictures</option>
    </select>
  </div>
  <div class='half'>
    <h2>Audio Input</h2>
    <select id='audio_select'></select>
  </div>
  <div class='half'>
    <div id='settings_symbol_preview'>
      <div class='lessonpix_preview'>
        <img src="https://lessonpix.com/drawings/234158/150x150/234158.png"/>
        <img src="https://lessonpix.com/drawings/130397/150x150/130397.png"/>
        <img src="https://lessonpix.com/drawings/4720/150x150/4720.png"/>
        <img src="https://lessonpix.com/drawings/1354/150x150/1354.png"/>
        <img src="https://lessonpix.com/drawings/1680702/150x150/1680702.png"/>
      </div>
      <div class='twemoji_preview'>
        <img src="https://d18vdu4p71yql0.cloudfront.net/libraries/twemoji/1f5e3.svg"/>
        <img src="https://d18vdu4p71yql0.cloudfront.net/libraries/twemoji/1f4ac.svg"/>
        <img src="https://d18vdu4p71yql0.cloudfront.net/libraries/twemoji/1f3ad.svg"/>
        <img src="https://d18vdu4p71yql0.cloudfront.net/libraries/twemoji/1f6b6.svg"/>
        <img src="https://d18vdu4p71yql0.cloudfront.net/libraries/twemoji/1f4dc.svg"/>
      </div>
      <div class='none_preview'>
        No pictures will be shown on buttons
      </div>
    </div>
  </div>
  <div style='clear: both;'></div>
  <div class='preview_container'>
    <video id='settings_video_preview'></video>
    <audio id='settings_audio_preview' style='display: none;''></audio>
    <div id='settings_audio_level'></div>
  </div>
</div>
<div id="confirm_exit" class="content">
  <p>Are you sure you want to leave this room?</p>
</div>


<script>
  room.buttons = room.default_buttons;
  if(localStorage.terms_accepted != "true") {
    location.href = location.href + "/join";
  } else {
    room.start();
  }
</script>
